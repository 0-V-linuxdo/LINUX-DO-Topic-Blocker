# [LINUX DO] 🚫 屏蔽含有指定：类别、标签和标题关键词 的话题

在 `linux.do` 的话题列表与搜索结果中，按「类别 / 标签 / 标题关键词」自动隐藏不想看到的内容!

## 功能

- 自定义屏蔽：标题关键词、类别、标签
- 高级规则：支持为标题 / 类别 / 标签分别添加正则表达式
- 搜索页适配：在搜索结果页提供可见的“屏蔽/必含/正则”过滤器（按搜索词分别保存）
- 配置即时生效：保存后无需手动刷新
- 未登录也可用：仅在前端隐藏，不依赖登录接口
- 配置导入/导出：支持通过 JSON 文件同步全部设置

## 安装

1. 安装脚本管理器：(推荐) Violentmonkey。
2. 在 GitHub 仓库中打开脚本文件 `[LINUX DO] 🚫 屏蔽含有指定：类别、标签和标题关键词 的话题.user.js`，点击 `Raw`，按提示安装。
   - 或者：复制脚本内容，在脚本管理器中新建脚本并粘贴保存。
3. 访问 `https://linux.do/`，脚本会自动生效。

## 使用

### 1）话题列表页（非搜索页）

在任意 `linux.do` 页面中，打开脚本菜单：

- 脚本管理器菜单 → `⚙️ 屏蔽设置`

设置弹窗内包含三个主要维度：

- **标题关键词**：逗号分隔；对标题做“包含匹配”（不区分大小写）。
- **类别**：逗号分隔；对类别名做“完全匹配”（区分大小写，需与页面显示一致）。
- **标签**：逗号分隔；对标签名做“完全匹配”（区分大小写，需与页面显示一致）。

示例（逗号分隔）：

- 标题关键词：`求助, 交易, 广告`
- 类别：`灌水, 求助`
- 标签：`openwrt, nas, docker`

### 2）高级自定义（正则表达式）

在“标题关键词 / 类别 / 标签”各自的 **高级自定义** 子页中，可新增多条正则规则：

- 输入 **JavaScript 正则表达式**（不需要写成 `/.../`），例如：`^\\[求助\\]`
- 规则校验通过后会自动保存并立即生效；无效正则会提示错误

提示：如果你希望“类别/标签”做到更灵活（例如忽略大小写/前后缀匹配），建议用正则实现。

### 3）搜索结果页（/search）

在 `https://linux.do/search?q=...` 页面右上角会出现一个悬浮过滤器：

- `屏蔽`：黑名单关键词（逗号分隔）
- `必含`：白名单关键词（逗号分隔；结果需至少包含其中一个关键词，否则隐藏）
- `正则`：正则表达式（每行一个；对结果文本进行匹配）

特性与交互：

- 过滤器会按“当前搜索词”分别保存配置；更换搜索词后会自动切换到对应配置。
- 点击字段进入编辑；失焦或按 `Ctrl/⌘ + Enter` 保存并立即生效。

## 配置导入/导出

在设置弹窗的 `同步` 页：

- **导出**：下载 `linux_do_content_filter_settings.json`
- **导入**：选择之前导出的 JSON 文件，导入后会覆盖脚本的相关配置

## 常见问题

### 为什么没生效？

- 确认脚本管理器中已启用该脚本，并且当前页面 URL 匹配 `https://linux.do/*`
- 类别/标签属于“完全匹配”，请确保输入与页面显示的文字一致；不确定时用正则规则更稳妥

### 如何清空所有屏蔽规则？

- 在设置弹窗中清空对应输入框内容并保存；或在脚本管理器中删除脚本后重新安装
